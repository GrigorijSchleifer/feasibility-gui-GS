<num-action-bar class="bottom">
  <div *ngIf="($listItemArray | async)?.length > 0" class="display-selected">
    {{
      ($listItemArray | async)?.length === 1
        ? ('SHAREDCOMPONENTS.ACTIONBAR.SELECTED_CRITERIA.SINGULAR'
          | translate : { amount: ($listItemArray | async)?.length })
        : ('SHAREDCOMPONENTS.ACTIONBAR.SELECTED_CRITERIA.PLURAL'
          | translate : { amount: ($listItemArray | async)?.length })
    }}
  </div>
  <div *ngIf="$stageArray | async as stageArray" class="display-selected">
    <div *ngIf="stageArray.length > 0">
      {{
        stageArray.length === 1
          ? ('SHAREDCOMPONENTS.ACTIONBAR.ADDED_CRITERIA.SINGULAR'
            | translate : { amount: stageArray.length })
          : ('SHAREDCOMPONENTS.ACTIONBAR.ADDED_CRITERIA.PLURAL'
            | translate : { amount: stageArray.length })
      }}
    </div>
  </div>
  <span *ngIf="addedToStage" class="font-added-criteria">
    {{ 'QUERYBUILDER.STAGE.MESSAGE.ADDED_CRITERIA' | translate : { number: this.preservedLength } }}
  </span>
  <num-button
    type="green"
    (click)="addItemsToStage()"
    [isDisabled]="!hasListItems"
    [matBadge]="($listItemArray | async)?.length"
    matBadgePosition="above after"
    class="margin-right-10"
  >
    {{ 'QUERYBUILDER.STAGE.BUTTON.ADD_TO_STAGE' | translate }}
  </num-button>
  <num-button
    type="green"
    class="margin-right-10"
    (click)="scroll()"
    [isDisabled]="!atStage && !hasStageItems && !hasQueryItems"
    [matBadge]="($stageArray | async)?.length"
    matBadgePosition="above after"
  >
    {{
      atStage
        ? ('QUERYBUILDER.STAGE.BUTTON.BACK_TO_SEARCH' | translate)
        : ('QUERYBUILDER.STAGE.BUTTON.VIEW_STAGE' | translate)
    }}
  </num-button>
  <num-button
    type="green"
    (click)="doSendRequest()"
    [isDisabled]="!isValidQuery()"
    class="margin-right-10"
  >
    {{ 'QUERYBUILDER.STAGE.BUTTON.SEND_QUERY' | translate }}
  </num-button>
</num-action-bar>
